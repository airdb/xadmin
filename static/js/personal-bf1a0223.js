import{_ as e,S as a,T as l,U as t,r as i,B as n,i as r,n as d,e as o,A as s,f as c,c as u,q as m,g as p,V as g,v as h,z as f,C as v,h as b,W as C,X as w,l as y,p as _,j as k,b as x}from"./index-e628df01.js";import{u as z,t as T,a as P,_ as S}from"./useTablePage-df63ea3c.js";const q=e=>(_("data-v-24f75dd2"),e=e(),k(),e),V={class:"scroll-y"},D={class:"mr-3 rowSS"},M=q((()=>c("span",{style:{"vertical-align":"middle"}},"增加",-1))),j=q((()=>c("span",{style:{"vertical-align":"middle"}},"删除",-1))),B=x("查询"),Y=["src"],E=x("编辑"),I=x("详情"),U=x("删除"),$={class:"block columnCC mt-2"},H={class:"detail-container rowBC"},W={class:"detail-container-item"},F={class:"detail-container rowBC"},L={class:"detail-container-item"},N={class:"detail-container rowBC"},O={class:"detail-container-item"},R={class:"dialog-footer"},A=x("确 定"),X={name:"Brand"};var G=e(Object.assign(X,{setup(e){a((()=>{})),l((()=>{}));let _=t([]);const k=e=>{_.value=e};let x=t([]),q=i({id:"",name:"",image:"",letter:"",seq:""});n((()=>{J()}));let{startEndArr:X,totalPage:G}=z(),J=()=>{const e=Object.assign(q,{pageNum:K.value,pageSize:Q.value});Object.keys(e).forEach((a=>{""!==e[a]&&null!==e[a]&&void 0!==e[a]||delete e[a]})),r({url:"/integration-front/brand/selectPage",method:"get",data:e,isParams:!0}).then((e=>{var a,l;x.value=null==(a=e.data)?void 0:a.records,G=null==(l=e.data)?void 0:l.total}))},{pageNum:K,pageSize:Q,handleCurrentChange:Z,handleSizeChange:ee}=T(J);const ae=e=>{e&&2===e.length?(q.startTime=e[0],q.endTime=e[1]):(q.startTime="",q.endTime="")},le=()=>{K.value=1,J()};let{elMessage:te,elConfirm:ie}=P();const ne=t(null),re=()=>{let e=[],a="";if(e=_.value.map((e=>(a=a+e.name+",",e.id))),0===e.length)return void te("表格选项不能为空","warning");let l=a.length-1;ie("删除",`您确定要删除【${a.slice(0,l)}】吗`).then((()=>{r({url:"/integration-front/brand/deleteBatchIds",data:e,method:"DELETE",bfLoading:!0}).then((e=>{te("删除成功"),J()}))})).catch((()=>{}))};let de=e=>{ie("确定",`您确定要删除【${e.name}】吗？`).then((()=>{var a;(a=e.id,r({url:"/integration-front/brand/deleteById",data:{id:a},isParams:!0,method:"delete",bfLoading:!0})).then((()=>{J(),te(`【${e.name}】删除成功`)}))})).catch((()=>{}))},oe=t(!1);const se=t(null);let ce=()=>{oe.value=!0,v((()=>{se.value.showModal()}))};n((()=>{}));const ue=()=>{oe.value=!1};let me=e=>{ve(e.id).then((e=>{oe.value=!0,v((()=>{se.value.showModal(!0,e.data)}))}))},pe=t({}),{dialogTitle:ge,detailDialog:he}=P(),fe=e=>{ge.value=`详情【${e.name}】`,ve(e.id).then((e=>{pe.value=e.data,he.value=!0}))};pe.value='{"msg":"操作成功!","flag":true,"code":20000,"data":{"total":1,"current":1,"hitCount":false,"pages":1,"size":10,"optimizeCountSql":true,"records":[{"image":"http://8.135.1.141:8080//group1/86501729/太阳.png","createTime":"2022-05-11 14:20:45","letter":"q","name":"qweqwe1111","updateTime":"2022-05-11 22:20:45","id":325680,"seq":1}],"searchCount":true,"orders":[]}}',pe.value;let ve=e=>r({url:"/integration-front/brand/selectById",data:{id:e},isParams:!0,method:"get"});return(e,a)=>{const l=d("el-icon"),t=d("el-button"),i=d("el-input"),n=d("el-form-item"),r=d("el-date-picker"),v=d("el-form"),_=d("el-table-column"),z=d("el-table"),T=d("el-pagination"),P=d("el-dialog");return b(),o("div",V,[s("操作"),c("div",D,[u(t,{type:"primary",onClick:p(ce)},{default:m((()=>[u(l,{style:{"vertical-align":"middle"}},{default:m((()=>[u(p(C))])),_:1}),M])),_:1},8,["onClick"]),u(t,{type:"primary",onClick:re},{default:m((()=>[u(l,{style:{"vertical-align":"middle"}},{default:m((()=>[u(p(w))])),_:1}),j])),_:1}),s("条件搜索"),u(v,{ref:"refsearchForm",inline:!0,class:"demo-searchForm ml-2"},{default:m((()=>[u(n,{"label-width":"0px",label:"",prop:"username","label-position":"left"},{default:m((()=>[s("  --c "),u(i,{modelValue:p(q).name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(q).name=e),class:"widthPx-150",placeholder:"用户名"},null,8,["modelValue"])])),_:1}),u(n,{"label-width":"0px",label:"",prop:"createTime","label-position":"left"},{default:m((()=>[u(r,{modelValue:p(X),"onUpdate:modelValue":a[1]||(a[1]=e=>h(X)?X.value=e:X=e),type:"datetimerange",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD HH:mm:ss",class:"widthPx-250","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期",onChange:ae},null,8,["modelValue"])])),_:1})])),_:1},512),s("查询按钮"),u(t,{type:"primary",onClick:le},{default:m((()=>[B])),_:1})]),s("表格和分页"),u(z,{id:"resetElementDialog",ref_key:"refuserTable",ref:ne,height:`calc(100vh - ${p(g).delWindowHeight})`,border:"",data:p(x),onSelectionChange:k},{default:m((()=>[u(_,{type:"selection",align:"center",width:"50"}),u(_,{align:"center",prop:"letter",label:"ID",width:"80"}),u(_,{align:"center",prop:"name",label:"Project","min-width":"100"}),u(_,{align:"center",prop:"letter",label:"Status",width:"80"}),u(_,{align:"center",prop:"image",label:"Milestone","min-width":"100"},{default:m((({row:e})=>[c("img",{src:e.image,class:"widthPx-120 heightPx-120",style:{"border-radius":"10px"}},null,8,Y)])),_:1}),u(_,{align:"center",prop:"seq",label:"Member",width:"80"}),u(_,{align:"center",prop:"",label:"This Week",width:"80"}),u(_,{align:"center",prop:"seq",label:"Next Week",width:"80"}),u(_,{align:"center",prop:"createTime",label:"创建时间",width:"140"}),u(_,{align:"center",prop:"updateTime",label:"更新时间",width:"140"}),s("点击操作"),u(_,{fixed:"right",align:"center",label:"操作",width:"180"},{default:m((({row:e})=>[u(t,{type:"text",size:"small",onClick:a=>p(me)(e)},{default:m((()=>[E])),_:2},1032,["onClick"]),u(t,{type:"text",size:"small",onClick:a=>p(fe)(e)},{default:m((()=>[I])),_:2},1032,["onClick"]),u(t,{type:"text",size:"small",onClick:a=>p(de)(e)},{default:m((()=>[U])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["height","data"]),s("分页"),c("div",$,[u(T,{"current-page":p(K),"page-sizes":[10,20,50,100],"page-size":p(Q),layout:"total, sizes, prev, pager, next, jumper",total:p(G),onSizeChange:p(ee),onCurrentChange:p(Z)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),s("详情"),u(P,{modelValue:p(he),"onUpdate:modelValue":a[3]||(a[3]=e=>h(he)?he.value=e:he=e),title:p(ge),width:"500px","close-on-click-modal":!1},{footer:m((()=>[c("span",R,[u(t,{type:"primary",onClick:a[2]||(a[2]=e=>h(he)?he.value=!1:he=!1)},{default:m((()=>[A])),_:1})])])),default:m((()=>[c("div",H,[c("div",W,"品牌名称："+y(p(pe).name),1)]),c("div",F,[c("div",L,"品牌首字母："+y(p(pe).letter),1)]),c("div",N,[c("div",O,"排序："+y(p(pe).seq),1)])])),_:1},8,["modelValue","title"]),p(oe)?(b(),f(S,{key:0,ref_key:"refCRUDForm",ref:se,onHideComp:ue,onSelectPageReq:p(J)},null,8,["onSelectPageReq"])):s("v-if",!0)])}}}),[["__scopeId","data-v-24f75dd2"]]);export{G as default};
